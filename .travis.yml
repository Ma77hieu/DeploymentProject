language: python
dist: xenial
python:
    - '3.8'
before-install:
    - wget -N https://chromedriver.storage.googleapis.com/91.0.4472.101/chromedriver_linux64.zip -P ~/
    - unzip ~/chromedriver_linux64.zip -d ~/
    - rm ~/chromedriver_linux64.zip
    - sudo mv -f ~/chromedriver /usr/local/share/
    - sudo chmod +x /usr/local/share/chromedriver
    - sudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver
addons:
    chrome: stable
before_script:
    - pip install -r requirements.txt
    - google-chrome-stable --no-sandbox --headless --remote-debugging-port=9222 http://localhost &
env:
    global:
    - DJANGO_SETTINGS_MODULE=healthieralt.settings.travis
    - secure: B58y6WmSlQHAFipwjmL8cJID87FeTK7jERUDetrqo83yk2mxcRG26MNZjZl/hSLjUwQcxrfDomjJGHpgEw4b84WwcMNHsltXKmHIQhWUfMDjpo/dxspmUwbtGpMk574vZ84CBSlHef/Fo/kJKuY8DQYEXP3uv21ym+PJGsPgZOv/LF+uWkFZIlK5XFx1JzUZhXkgotpLGU1o3xt02ZBLZlh1GY6fSLNs32ur3p7Oio9O2t6xoGq5/9P69p83PlwWaf9qbLIKfcfMR+cdUopb+UI8W2TmndtY1Dsn38Woiduq3ObnOPqDmdi1OvIaAQpA3TGOwWqbrgW+yOeW/Kv2TK3FBgH45vZ18FacW68NsNJoJ3c7EcbszhhINMhz5Rr7ySzOtAYsQhh7Jh7bs8wi1LfVj7Q8Fli6ynKSy9hPM2DBFiU8Ycsn4ICyQaY8/3Qw769iBKF2HSHvRhWQ3ZuNMChbayd9XFJKWVXmhWVQontsqxzu+4o1NQlftMpR1U2zDgUN3/QEjC59cBM6dzgXi0kJi5decd1xZnSKqAqEfW3jIikp6I8l+fNvCRKEQgZZ6+TANsNF6HUZnNSMuQ3RBFnxXf5KF613oXSL57I2sVQ/RHULKJYkCfoZbPoYNPLERKfHX+97FcmHhy5wqwE7Cp1tIdW53MFYQPlVuGQOtqE=
    - secure: tIb80REbOrldAYECWELciV59cOd4ZYoRN8gL3ksBG6Mdw5NPFe31shuFxrZ7rqOvenMCjBLcdGDvkLtVKNCGqT9ossatEkSMrQ8Yr1NgL351c9Aqa+x3gYGTAKRGpOPqf7AIsqQWae6xA+XGMgvRTABmQ3qG3jD8psJFZboQxr2ofBx+B4M2t8vfQ9kGHHG57r+S+EW04WlivsitEnPSbABK6rCac0Zj0jqs/Ur6p3kWQACd4WA3Z0iLgLPR4w5nVyvu+0yzLctPTUvBucCAul5FTwW6TYwrZSMuzBnhFh1VP1QKREi2NXfTGrHACAZjiER8XPQ0WlGp2Bp7i0vgBuz9+hp6GU5PHkqsEkMQuf3lRv8nWX0kUnTxfMIfw5hqBw7lJ2rTNdoBkrsKj0yr/W7i9srENqjM6x2CzB4SZqFq4mmDaQ1RXOJZ4RFJjhYOX5OfkR0wbzEtPcGRBfvXdByZBXIjOMbHjhsiL4qVFbVmcwxvb+2DxzKgg3FGENnriP6ZW46fxPqFPdp3vgteySTkNDERG6/ULXD13cDEivhB28C22bbRwObtsNIOcZ8L9aOtStUboG0a4/DxVZdZsVce7WkJ9FrHeJYMFWli+djzspkVDAa3CfBIvmS9VLAqnVGqZdsukhdG4oZf6Xwm4Iaouw0mvclHUy/Vm1nT6pY=
    - secure: ic8Vs462MLAnmw1wuBEIaDjNABpV7wykvStujY1sjxzn/YHAZBQsaaR+VdOcpIbjcU49wt87qLYuuAhdxmt+uwqAyw2+TwLtq2lZTW5lqY2tL8kPDeqrlfkrHCM9tRH0i7uoMtrxaFXEJRI5GGcJJCJ13rTFwHegA3ApWwys4zqNWIcP6HBTF6/K9Mzr/qqFK0v9UnLWJ/K/tif4YAVQZvo8zFjw84Fp8zzpFfziI732X1nL4bL0KycmRwcjkd466QLqr4aoLwZFSYBEgDudzDPIPcbUKy/BsKQPoMa9vGP598K5mh/VDMxgthBwBArDXuGxhTPAEF0bunmX+/PJp6E0r7bpopDp6I3rOO7Hrdrbe//HdK0GVQO4TXBQfCyMpIXnL/6LzhcNWSTdL49iRVOS1PyND9Q+n5oyfy6wx7UrmGpXXUq1GB8/4JD6TC/IyxinIlsZSuoS7j46yy0QevuQ/lZDAevBDUk3cCYadrWk5MOMowaMFA8lDEkiVd5wVExEMEfPVS1k6TrQM1yyQupmE5MFat9hJtOHIrMBbXQScfzFrNiYUhPnerhQqznPusJGBHRSMXv3KmaTNGDUTCY+S6V9qOmUTJxAqo7OOrkN6VSbD764pIEvdQRuz8ykKMOMCGFJ3fVZ6bCTU0SuNQM+lP6ziett3q+6hiz3qa4=
    - secure: ScKIM+tl1A5Kt8pq3shKEsXxcl3m+VqzvExCRLhC7X1YSY6o+uUNw8vtluQI3S8usWc99IYrZ+GIIGG8Bb9LN/x4KECUhyrqAdwkjdGYjoooLrISk84PUcCv/DiCSYQ9FQ+zPtCEWGURahYXBSbseHirjVdghH2KkmkjYWj5wGSzzR0dFChRGVGtBR1i1EzMZOG1BF31b7WuL9+lAHCmoeeS0xFuJfVYi1Haxi6g2fpxyzrE2yeiYjKehCpzGvuXr/f3qTxQHIettjTtTTh66SkpUvlgY+LF+TzlLNJzb3aykoPTvvUG8T7MHhOtUJiXF+BfUDdXo/ihDa8xdLZguq+c9jkHsK4XumS6nNyHpnXfr2r1m1AIXQkhnC529qO9xMNOyHjRCg8hiKJZSf6hv3/+MR89nPvL2/mqNLwW16zAlCgr+ioIgGXqPIIAZRnGMZkV0V0+LH2uQEs1O+u/yEW30nBcIOZiH+9mV4qS9c4r3i+KyWJXTxxPKE4NeRZS5jhYhktOsEP6fBtSoUxm96Cr6pvzom2nsEEdzlJY2H/F0pun+lTp3czQzI7roVfkFiP0X2EXknJ4mnHogu89HCQWBp2HjNmnJyfuINKNd7q0RUstD7Kura+Wods5LuSm66f+leHlADFdKqVP2gMeR8ESPhqzhtW0FqfIXgOZjl8=
services:
    - postgresql
script:
    - "./manage.py test"
